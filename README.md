## å‰è¨€
ç¬”è€…è®¤ä¸ºThree.jsæ˜¯ä¸€ä¸ªä¼Ÿå¤§çš„æ¡†æ¶ï¼Œä¸ºä»€ä¹ˆè¿™æ ·è¯´ï¼Œå› ä¸ºå®ƒå¯ä»¥è®©æˆ‘ä»¬è½»æ˜“åˆ›é€ ä¸‰ç»´ä¸–ç•Œï¼Œç”šè‡³å¥½åƒç¬”è€…å†™è¿™éæ•™ç¨‹ï¼Œå¯ä»¥åˆ›é€ ä¸€ä¸ªå¤ªé˜³ç³»ï¼Œåœ¨è¿™ä¸ªä¸‰ç»´ä¸–ç•Œé‡Œä½ å°±æ˜¯åˆ›ä¸–ä¸»ã€‚å“ˆå“ˆï¼å¥½åƒè¯´å¾—æœ‰ç‚¹å¤¸ï¼ï¼

[ä¸‰ç»´å¤ªé˜³ç³»å®Œæ•´æ•ˆæœ](https://shinewen189.github.io/nigo-vue-planet/)

## äº†è§£ä¸€äº›åŸºæœ¬å¤©æ–‡çŸ¥è¯†

å­¦ä¹ åˆ›é€ è¿™ä¸ªä¸‰ç»´å¤ªé˜³ç³»ä¹‹å‰å…ˆäº†è§£ä¸€ä¸‹åŸºæœ¬çš„å¤©æ–‡çŸ¥è¯†ï¼šå¤ªé˜³ç³»æœ‰â€œå…«å¤§è¡Œæ˜Ÿâ€ï¼ŒæŒ‰ç…§ç¦»å¤ªé˜³çš„è·ç¦»ä»è¿‘åˆ°è¿œï¼Œå®ƒä»¬ä¾æ¬¡ä¸ºæ°´æ˜Ÿã€é‡‘æ˜Ÿã€åœ°çƒã€ç«æ˜Ÿã€æœ¨æ˜Ÿã€åœŸæ˜Ÿã€å¤©ç‹æ˜Ÿã€æµ·ç‹æ˜Ÿã€‚å…«å¤§è¡Œæ˜Ÿè‡ªè½¬æ–¹å‘å¤šæ•°ä¹Ÿå’Œå…¬è½¬æ–¹å‘ä¸€è‡´ã€‚åªæœ‰é‡‘æ˜Ÿå’Œå¤©ç‹æ˜Ÿä¸¤ä¸ªä¾‹å¤–ã€‚é‡‘æ˜Ÿè‡ªè½¬æ–¹å‘ä¸å…¬è½¬æ–¹å‘ç›¸åã€‚è€Œå¤©ç‹æ˜Ÿåˆ™æ˜¯åœ¨è½¨é“ä¸Šâ€œæ¨ªæ»šâ€çš„ã€‚ä¾‹å¦‚åœ°çƒè‡ªè½¬ä¸€å¤©æ˜¯23.9å°æ—¶ï¼Œå…¬è½¬ä¸€å¹´æœ‰365.2å¤© ï¼Œè€Œç›¸é‚»çš„ç«æ˜Ÿè‡ªè½¬ä¸€å¤©æ˜¯24.6å°æ—¶ å…¬è½¬ä¸€å¹´åˆ™æœ‰687å¤©ï¼Œå…¶ä»–è¡Œæ˜Ÿä¹Ÿæœ‰ä¸åŒçš„å…¬è½¬å’Œè‡ªè½¬ä¿¡æ¯ï¼Œæœ‰äº†è¿™äº›ä¿¡æ¯å°±å¯ä»¥å®šä¹‰ä¸€äº›åŸºæœ¬è§„åˆ™

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6a8e2f80f2be471cadef468084b78b2d~tplv-k3u1fbpfcp-watermark.image)
## äº†è§£Threeæ¡†æ¶
Threeçš„ä¸€äº›åŸºæœ¬æ¦‚å¿µæˆ‘åœ¨[ç”¨æœ€ç®€å•æ–¹å¼æ‰“é€ Three.js 3Dæ±½è½¦å±•ç¤ºå…](https://juejin.cn/post/6982435184838705159)ä¸€æ–‡ä¹Ÿç²—ç•¥ä»‹ç»ä¸€ä¸‹ï¼Œä¸ºäº†è®©åŒå­¦ä»¬åŠ æ·±ç†è§£ï¼Œç¬”è€…å°±ç›¸å¯¹äºå¤ªé˜³ç³»æ¥æ¯”å¦‚ä¸€ä¸‹
1. åœºæ™¯ `Sence` ç›¸å½“äºå¤ªé˜³ç³»ï¼Œå®‡å®™ä¸­æœ‰æ— æ•°æ˜Ÿç³»ï¼Œæ¯”å¦‚ç°åœ¨è¯´çš„å¤ªé˜³ç³»ï¼Œåç»­è¿˜å¯ä»¥å¢åŠ å…¶ä»–æ˜Ÿç³»ï¼Œé‚£ä¸æ˜¯æ°¸è¿œéƒ½åŠ ä¸å®Œçš„å‘€ o(â•¥ï¹â•¥)o
2. ç›¸æœº `Carma` ç›¸å½“ä¸€æšå“ˆå‹ƒå¤©æ–‡æœ›è¿œé•œ
3. å‡ ä½•ä½“ `Geometry` ç›¸å½“äºå¤ªé˜³å’Œå…«å¤§è¡Œæ˜Ÿ
4. æ§åˆ¶ `Controls` ç›¸å½“â€åˆ›ä¸–è€…â€œçš„ä½ 

æœ‰äº†è¿™å‡ ä¸ªæ¦‚å¿µæˆ‘ä»¬å°±åˆ›å»ºä¸€äº›å‡½æ•°ä¸€ä¸€å¯¹åº”

## å®Œæ•´æ•ˆæœ


![å±å¹•å½•åˆ¶2021-07-12 ä¸‹åˆ2.34.26.gif](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ae8d2023fdf648d1a341af0717c2be41~tplv-k3u1fbpfcp-watermark.image)


## è¿›å…¥æ•™ç¨‹




å…ˆå¼•å…¥Three è¦ç”¨åˆ°çš„å¯¹è±¡ 

```js
  import {
        Group,
        Mesh,
        MeshBasicMaterial,
        PerspectiveCamera,
        PointCloud,
        PointCloudMaterial,
        Scene,
        SphereGeometry,
        TextureLoader,
        Vector3,
        WebGLRenderer
    } from 'three'
     import {OrbitControls} from 'three/examples/jsm/controls/OrbitControls.js'

```




### åœºæ™¯(å¤ªé˜³ç³»)ï¼Œç›¸æœº(å“ˆå‹ƒå¤©æ–‡æœ›è¿œé•œ)ï¼Œæ§åˆ¶(åˆ›ä¸–ä¸»)

```js
//åœºæ™¯
const setScene = () => {
        scene = new Scene()
        renderer = new WebGLRenderer({
            antialias: true,
        })
        renderer.setSize(innerWidth, innerHeight)
        document.querySelector('#planet').appendChild(renderer.domElement)
    }
//ç›¸æœº
const setCamera = () => {
        camera = new PerspectiveCamera(60, innerWidth / innerHeight, 1, 100000)
        camera.position.set(0, 500, 2000)
        camera.lookAt(scene.position)
    }
//æ§åˆ¶    
 const setControls = () => {
        controls = new OrbitControls(camera, renderer.domElement)
    }        
```
### åˆ›å»ºä¸€ä¸ªå¤ªé˜³ç³»çš„èƒŒæ™¯(ç¹æ˜ŸèƒŒæ™¯)
è¿™ä¸ªæ»¡å¤©æ˜Ÿæ•ˆæœæ˜¯å¤ªé˜³ç³»çš„èƒŒæ™¯ï¼Œè¿ç”¨åˆ°Threeçš„ç²’å­ç³»ç»Ÿï¼Œè¡Œæ˜Ÿå¯†åº¦å¯è‡ªè¡Œè°ƒæ•´

```js
 const starForge = () => {
        const starQty = 10000
        const geometry = new SphereGeometry(10000, 100, 50)
        const materialOptions = {}
        const starStuff = new PointCloudMaterial(materialOptions)
        geometry.vertices = []
        for (let i = 0; i < starQty; i++) {
            let starVertex = new Vector3()
            starVertex.x = Math.random() * 20000 - 10000
            starVertex.y = Math.random() * 20000 - 10000
            starVertex.z = Math.random() * 20000 - 10000
            geometry.vertices.push(starVertex)
        }
        const stars = new PointCloud(geometry, starStuff)
        scene.add(stars)
    }
```
æ•ˆæœå¦‚ä¸‹å›¾:

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4f38407fff984a2aaa2642548d4d7be4~tplv-k3u1fbpfcp-watermark.image)


### åˆ›å»ºå¤ªé˜³å’Œè¡Œæ˜Ÿå‰å…ˆè¯´è¯´è¡Œæ˜Ÿè‡ªè½¬åŒæ—¶å…¬è½¬çš„è§„å¾‹

![å±å¹•å½•åˆ¶2021-07-12 ä¸Šåˆ11.23.20.gif](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/da23575894064bd2a5fe42ba80a4c796~tplv-k3u1fbpfcp-watermark.image)


æ—‹è½¬æ–¹å¼ï¼šå®ç°æ—‹è½¬åŠŸèƒ½æœ‰ä¸‰ç§æ–¹å¼
1. æ—‹è½¬ç…§ç›¸æœº 
2. æ—‹è½¬æ•´ä¸ªåœºæ™¯(Scene)
3. æ—‹è½¬å•ä¸ªå…ƒç´ 

å› ä¸ºæˆ‘ä»¬è¿™é‡Œæ¯ä¸ªè¡Œæ˜Ÿçš„è‡ªè½¬é€Ÿåº¦ï¼Œå…¬è½¬é€Ÿåº¦éƒ½ä¸ä¸€æ ·ã€‚æ‰€ä»¥è®¾ç½®æ•´ä½“æ—‹è½¬å¹¶ä¸å¯è¡Œï¼Œæ‰€ä»¥è¦ç»™æ¯ä¸ªå…ƒç´ è®¾ç½®ä¸åŒçš„æ—‹è½¬å±æ€§ã€‚

è¡Œæ˜Ÿéœ€è¦è®©å®ƒä»¬å›´ç»•ç€å¤ªé˜³è½¬ï¼Œå°±è¦å…ˆç»™å®ƒä»¬è‡ªèº«è®¾ç½®ä¸€ä¸ªä½ç½®åç§»ã€‚ä»¥æ°´æ˜Ÿä¸ºä¾‹ï¼š`mercury.position.x -= 300`ï¼Œè€Œæ­¤æ—¶è®¾ç½®`mercury.rotation.y`å±æ€§ï¼Œå®ƒå°±ä¼šå®ç°è‡ªè½¬ã€‚å› ä¸ºå®ƒçš„Yè½´ä½ç½®å·²ç»æ”¹å˜äº†ã€‚

å½“æˆ‘ä»¬ç§»åŠ¨äº†`mercury`æ—¶ï¼Œ`mercuryParent`çš„ä½ç½®æ˜¯æ²¡æœ‰å˜çš„ï¼Œè‡ªç„¶å®ƒçš„Yè½´ä¹Ÿä¸ä¼šå˜ï¼Œåˆå› ä¸º`mercuryParent`åŒ…å«äº†`mercury`ï¼Œæ‰€ä»¥æ—‹è½¬`mercuryParent`æ—¶ï¼Œ`mercury`ä¹Ÿä¼šç»•ç€åˆå§‹çš„é»˜è®¤Yè½´æ—‹è½¬ã€‚æ‰€ä»¥è®¾ç½®é‚£ä¹ˆå¤šç»„ï¼Œæ˜¯ä¸ºäº†å®ç°æ¯é¢—è¡Œæ˜Ÿä¸åŒçš„é€Ÿåº¦å’Œå…¬è½¬çš„åŒæ—¶è‡ªè½¬ã€‚è‡³äºè®¾ç½®ä»¥ä¸‹ä»£ç æ•°å€¼å°±æ ¹æ® è¡Œæ˜Ÿè‡ªè½¬ä¸€å¤©ã€å…¬è½¬ä¸€å¹´ç”¨å¤šå°‘æ—¶é—´æ¥å¤§æ¦‚å®šä¹‰ä¸€ä¸‹ã€‚


```js
//è®¾ç½®å…¬è½¬å‡½æ•°
const revolution = () => {
        mercuryParent.rotation.y += 0.015
        venusParent.rotation.y += 0.0065
        earthParent.rotation.y += 0.05
        marsParent.rotation.y += 0.03
        jupiterParent.rotation.y += 0.001
        saturnParent.rotation.y += 0.02
        uranusParent.rotation.y += 0.09
        neptuneParent.rotation.y += 0.001
    }
    //è®¾ç½®è‡ªè½¬å‡½æ•°
    const selfRotation = () => {
        sun.rotation.y += 0.004
        mercury.rotation.y += 0.002
        venus.rotation.y += 0.005
        earth.rotation.y += 0.01
        mars.rotation.y += 0.01
        jupiter.rotation.y += 0.08
        saturn.rotation.y += 1.5
        uranus.rotation.y += 1
        neptune.rotation.y += 0.1
    }
```

### åˆ›å»ºå¤ªé˜³å’Œå…«å¤§è¡Œæ˜Ÿ
åˆ›å»ºæ˜Ÿç³»ç”¨åˆ°å‡ ä½•çƒä½“+çº¹ç†è´´å›¾

é¦–å…ˆä»‹ç»ä¸€ä¸‹å¤ªé˜³å¦‚ä½•åˆ›é€ ï¼Œåˆ©ç”¨ `SphereGeometry`åˆ›å»ºçƒä½“ï¼Œåˆ©ç”¨`MeshBasicMaterial`æ·»åŠ çº¹ç†ï¼Œå¤ªé˜³æ˜¯è´¨é‡æ˜¯æœ€å¤§çš„ï¼Œæ‰€ä»¥è®¾ç½®çƒä½“çš„æ—¶å€™æ•°å€¼æ˜¯æœ€å¤§ã€‚ ä¸‹å›¾æ˜¯å¤ªé˜³çš„çº¹ç†è´´å›¾

![sun.jpg](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/76f8857b0a174f0e95f0f96bfed21cdc~tplv-k3u1fbpfcp-watermark.image)

```js
  // æ·»åŠ è®¾ç½®å¤ªé˜³
    let sun, sunParent
    const setSun = () => {
        sun = new Group()//å»ºç«‹ä¸€ä¸ªç»„
        sunParent = new Group()
        scene.add(sunParent) //æŠŠç»„éƒ½æ·»åŠ åˆ°åœºæ™¯é‡Œ
        loader.load('src/assets/universe/sun.jpg', (texture) => {
            const geometry = new SphereGeometry(500, 20, 20) //çƒä½“æ¨¡å‹
            const material = new MeshBasicMaterial({map: texture}) //æè´¨ å°†å›¾ç‰‡è§£æ„æˆTHREEèƒ½ç†è§£çš„æè´¨
            const mesh = new Mesh(geometry, material)  //ç½‘å­”å¯¹è±¡ ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‡ ä½•æ¨¡å‹(ç»“æ„),ç¬¬äºŒå‚æ•°æ˜¯ææ–™(å¤–è§‚)
            sun.add(mesh)//æ·»åŠ åˆ°ç»„é‡Œ
            sunParent.add(sun)
        })
    }

```

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/95447ada34044e9ca44bd051aadd3363~tplv-k3u1fbpfcp-watermark.image)

æŒ‰ç…§ç¦»å¤ªé˜³æœ€è¿‘ä¸€ä¸ªæ¥ä¸€ä¸ªåˆ›å»º 
### åˆ›å»ºæ°´æ˜Ÿ 
æ°´æ˜Ÿç¦»å¤ªé˜³æœ€è¿‘ï¼Œè´¨é‡æ˜¯æ‰€æœ‰è¡Œæ˜Ÿä¸­æœ€å°ï¼Œæ‰€ä»¥çƒä½“æ•°å€¼ä¹Ÿç»™ä¸€ä¸ªæœ€å°çš„æ•°å€¼ã€‚ ä¸‹å›¾æ°´æ˜Ÿçº¹ç†è´´å›¾
![mercury.jpg](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d01d320b56c54c7ea61298c813f8dadc~tplv-k3u1fbpfcp-watermark.image)

```js
 let mercury, mercuryParent
    const setMercury = () => {
        mercury = new Group()
        mercuryParent = new Group()
        scene.add(mercuryParent)
        loader.load('src/assets/universe/mercury.jpg', (texture) => {
            const geometry = new SphereGeometry(25, 20, 20) //çƒä½“æ¨¡å‹
            const material = new MeshBasicMaterial({map: texture}) //æè´¨ å°†å›¾ç‰‡è§£æ„æˆTHREEèƒ½ç†è§£çš„æè´¨
            const mesh = new Mesh(geometry, material)  //ç½‘å­”å¯¹è±¡ ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‡ ä½•æ¨¡å‹(ç»“æ„),ç¬¬äºŒå‚æ•°æ˜¯ææ–™(å¤–è§‚)
            mercury.position.x -= 600
            mercury.add(mesh)//æ·»åŠ åˆ°ç»„é‡Œ
            mercuryParent.add(mercury)
        })
    }
```

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/413eed35d8e148918a4726acdebd3893~tplv-k3u1fbpfcp-watermark.image)

### åˆ›å»ºé‡‘æ˜Ÿ

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/98dda416cf0e460faf4945402e903c2b~tplv-k3u1fbpfcp-watermark.image)
O(âˆ©_âˆ©)Oå“ˆå“ˆ~ åº”è¯¥æ˜¯ä¸‹å›¾ï¼Œè¿™å¼ æ‰æ˜¯é‡‘æ˜Ÿè¡Œæ˜Ÿçš„çº¹ç†è´´å›¾ï¼Œåƒä¸‡ä¸è¦ç”¨é”™å“Ÿï¼ï¼
    
![venus.jpg](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4e5cfaeee859497eb07c35267eb8e5eb~tplv-k3u1fbpfcp-watermark.image)


```js
  let venus, venusParent
    const setVenus = () => {
        venus = new Group()//å»ºç«‹ä¸€ä¸ªç»„
        venusParent = new Group()
        scene.add(venusParent)
        loader.load('src/assets/universe/venus.jpg', (texture) => {
            const geometry = new SphereGeometry(100, 20, 20) //çƒä½“æ¨¡å‹
            const material = new MeshBasicMaterial({map: texture}) //æè´¨ å°†å›¾ç‰‡è§£æ„æˆTHREEèƒ½ç†è§£çš„æè´¨
            const mesh = new Mesh(geometry, material)  //ç½‘å­”å¯¹è±¡ ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‡ ä½•æ¨¡å‹(ç»“æ„),ç¬¬äºŒå‚æ•°æ˜¯ææ–™(å¤–è§‚)
            venus.position.x -= 700
            venus.add(mesh)//æ·»åŠ åˆ°ç»„é‡Œ
            venusParent.add(venus)
        })
    }

```

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/37123027fac44c89b1091f5ddb0e935f~tplv-k3u1fbpfcp-watermark.image)

### åœ°çƒ
æ€å¯ä»¥æ²¡æœ‰æˆ‘ä»¬çš„å®¶å›­å‘¢ï¼Œè¿™ä¹ˆç¾ä¸½çš„å®¶å›­è¦å¥½å¥½ä¿æŠ¤å®ƒå•Šï¼ï¼

![earth.jpg](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dffd90ba5e2c4515830eac662be0f7f5~tplv-k3u1fbpfcp-watermark.image)

```js
let earth, earthParent
    const setEarth = () => {
        earth = new Group()//å»ºç«‹ä¸€ä¸ªç»„
        earthParent = new Group()
        scene.add(earthParent)
        loader.load('src/assets/universe/earth.jpg', (texture) => {
            const geometry = new SphereGeometry(100, 20, 20) //çƒä½“æ¨¡å‹
            const material = new MeshBasicMaterial({map: texture}) //æè´¨ å°†å›¾ç‰‡è§£æ„æˆTHREEèƒ½ç†è§£çš„æè´¨
            const mesh = new Mesh(geometry, material)  //ç½‘å­”å¯¹è±¡ ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‡ ä½•æ¨¡å‹(ç»“æ„),ç¬¬äºŒå‚æ•°æ˜¯ææ–™(å¤–è§‚)
            earth.position.x -= 900
            earth.add(mesh)//æ·»åŠ åˆ°ç»„é‡Œ
            earthParent.add(earth)
        })
    }
```

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/835db2879236498e93576e98e38bec82~tplv-k3u1fbpfcp-watermark.image)

### ç«æ˜Ÿã€æœ¨æ˜Ÿã€åœŸæ˜Ÿã€å¤©ç‹æ˜Ÿã€æµ·ç‹æ˜Ÿ
æ¥ä¸‹æ¥çš„è¡Œæ˜Ÿè®¾ç½®éƒ½æ˜¯å¤§åŒå°å¼‚ã€åªæ˜¯å…¬è½¬ã€è‡ªè½¬ã€å’Œè¡Œæ˜Ÿå¤§å°çš„è®¾ç½®ä¸åŒã€‚

æ¥ç€å¯¹åº”è¡Œæ˜Ÿçš„çº¹ç†è´´å›¾ä¹Ÿä¸€ä¸€å‘ç»™å¤§å®¶

ç«æ˜Ÿçš„çº¹ç†è´´å›¾

![mars.jpg](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/421f1c2284374c05873f3a15560edc3c~tplv-k3u1fbpfcp-watermark.image)

æœ¨æ˜Ÿçš„çº¹ç†è´´å›¾ 

![jupiter.jpg](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2ffd78d079524bb1a67a59a5382dfb1c~tplv-k3u1fbpfcp-watermark.image)

åœŸæ˜Ÿçš„çº¹ç†è´´å›¾


![saturn.jpg](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ba259c8d1ed843bf97b51c57b26627bf~tplv-k3u1fbpfcp-watermark.image)

å¤©ç‹æ˜Ÿçš„çº¹ç†è´´å›¾

![uranus.jpg](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/03a6a5565ab6405ba80aeab0c53ef6f2~tplv-k3u1fbpfcp-watermark.image)

æµ·ç‹æ˜Ÿçš„çº¹ç†è´´å›¾
![neptune.jpg](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a6b1d0fa5d00468b96865d4df9871ac5~tplv-k3u1fbpfcp-watermark.image)


## æœ€å
ä¸€ä¸ªä¸‰ç»´å¤ªé˜³ç³»å°±åˆ›é€ å‡ºæ¥å•¦ï¼Œè¿™ä¸ªä¾‹å­ä¹Ÿæ˜¯å¾ˆé€‚åˆåˆšå…¥é—¨three.jsçš„åŒå­¦ï¼Œç›®çš„ä¹Ÿæ˜¯æé«˜å¯¹ä¸‰ç»´çš„å…´è¶£ï¼Œæé«˜è‡ªèº«æˆå°±æ„Ÿã€‚å½“ç„¶åœ¨è¿™åˆ—å­ä¸Šæˆ‘ä»¬è¿˜å¯ä»¥å¢åŠ ä¸€äº›åŠŸèƒ½ï¼Œæ¯”å¦‚å®šä½æ ‡æ³¨ä¸€äº›è¡Œæ˜Ÿçš„ä¿¡æ¯ï¼Œç‚¹å‡»è¡Œæ˜Ÿå¯ä»¥è¿›å…¥æ˜Ÿçƒå†…éƒ¨ï¼Œåˆ©ç”¨å¤©ç©ºç›’å­åšä¸€ä¸ªVRå…¨æ™¯æ•ˆæœï¼Œç­‰ç­‰ã€‚å¦å¤–å°å¼Ÿæ‰¾è¿™äº›è¡Œæ˜Ÿçº¹ç†è´´å›¾ä¹Ÿä¸æ˜“ï¼Œç‰¹åˆ«æ‰¾é‡‘æ˜Ÿçš„æ—¶å€™ğŸ˜ï¼Œå¸Œæœ›å¤§å®¶å¦‚æœå–œæ¬¢è¿™ç¯‡æ–‡ç« èƒ½ç»™ä¸ªèµå°å¼Ÿï¼Œå½“é¼“åŠ±ä¸€ä¸‹ã€‚ä»¥åå°å¼Ÿå¿…å®šä¸ºå¤§å®¶åˆ›ä½œæ›´å¤šå¥½æ–‡ï¼Œè°¢è°¢å•¦ï¼ï¼^_^

![å±å¹•å½•åˆ¶2021-07-12 ä¸‹åˆ2.34.26.gif](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ae8d2023fdf648d1a341af0717c2be41~tplv-k3u1fbpfcp-watermark.image)


## ä¸Šå®Œæ•´ä»£ç 

```js
<template>
    <div id="planet">

    </div>
</template>
<script setup>
    import {onMounted} from 'vue'
    import {
        Group,
        Mesh,
        MeshBasicMaterial,
        PerspectiveCamera,
        PointCloud,
        PointCloudMaterial,
        Scene,
        SphereGeometry,
        TextureLoader,
        Vector3,
        WebGLRenderer
    } from 'three'
    import {OrbitControls} from 'three/examples/jsm/controls/OrbitControls.js'

    const loader = new TextureLoader() //å¼•å…¥æ¨¡å‹çš„loaderå®ä¾‹
    let scene, camera, renderer, group, controls // å®šä¹‰æ‰€æœ‰threeå®ä¾‹å˜é‡

    // åˆ›å»ºåœºæ™¯
    const setScene = () => {
        scene = new Scene()
        renderer = new WebGLRenderer({
            antialias: true,
        })
        renderer.setSize(innerWidth, innerHeight)
        document.querySelector('#planet').appendChild(renderer.domElement)
    }

    // åˆ›å»ºç›¸æœº
    const setCamera = () => {
        camera = new PerspectiveCamera(60, innerWidth / innerHeight, 1, 100000)
        camera.position.set(0, 500, 2000)
        camera.lookAt(scene.position)
    }

    // è®¾ç½®æ¨¡å‹æ§åˆ¶
    const setControls = () => {
        controls = new OrbitControls(camera, renderer.domElement)
    }
    
    // æ·»åŠ è®¾ç½®å¤ªé˜³
    let sun, sunParent
    const setSun = () => {
        sun = new Group()//å»ºç«‹ä¸€ä¸ªç»„
        sunParent = new Group()
        scene.add(sunParent) //æŠŠç»„éƒ½æ·»åŠ åˆ°åœºæ™¯é‡Œ
        loader.load('src/assets/universe/sun.jpg', (texture) => {
            const geometry = new SphereGeometry(500, 20, 20) //çƒä½“æ¨¡å‹
            const material = new MeshBasicMaterial({map: texture}) //æè´¨ å°†å›¾ç‰‡è§£æ„æˆTHREEèƒ½ç†è§£çš„æè´¨
            const mesh = new Mesh(geometry, material)  //ç½‘å­”å¯¹è±¡ ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‡ ä½•æ¨¡å‹(ç»“æ„),ç¬¬äºŒå‚æ•°æ˜¯ææ–™(å¤–è§‚)
            sun.add(mesh)//æ·»åŠ åˆ°ç»„é‡Œ
            sunParent.add(sun)
        })
    }

    // è®¾ç½®æ°´æ˜Ÿ
    let mercury, mercuryParent
    const setMercury = () => {
        mercury = new Group()//å»ºç«‹ä¸€ä¸ªç»„
        mercuryParent = new Group()
        scene.add(mercuryParent)
        loader.load('src/assets/universe/mercury.jpg', (texture) => {
            const geometry = new SphereGeometry(25, 20, 20) //çƒä½“æ¨¡å‹
            const material = new MeshBasicMaterial({map: texture}) //æè´¨ å°†å›¾ç‰‡è§£æ„æˆTHREEèƒ½ç†è§£çš„æè´¨
            const mesh = new Mesh(geometry, material)  //ç½‘å­”å¯¹è±¡ ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‡ ä½•æ¨¡å‹(ç»“æ„),ç¬¬äºŒå‚æ•°æ˜¯ææ–™(å¤–è§‚)
            mercury.position.x -= 600
            mercury.add(mesh)//æ·»åŠ åˆ°ç»„é‡Œ
            mercuryParent.add(mercury)
        })
    }

    //è®¾ç½®é‡‘æ˜Ÿ
    let venus, venusParent
    const setVenus = () => {
        venus = new Group()//å»ºç«‹ä¸€ä¸ªç»„
        venusParent = new Group()
        scene.add(venusParent)
        loader.load('src/assets/universe/venus.jpg', (texture) => {
            const geometry = new SphereGeometry(100, 20, 20) //çƒä½“æ¨¡å‹
            const material = new MeshBasicMaterial({map: texture}) //æè´¨ å°†å›¾ç‰‡è§£æ„æˆTHREEèƒ½ç†è§£çš„æè´¨
            const mesh = new Mesh(geometry, material)  //ç½‘å­”å¯¹è±¡ ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‡ ä½•æ¨¡å‹(ç»“æ„),ç¬¬äºŒå‚æ•°æ˜¯ææ–™(å¤–è§‚)
            venus.position.x -= 700
            venus.add(mesh)//æ·»åŠ åˆ°ç»„é‡Œ
            venusParent.add(venus)
        })
    }
    //è®¾ç½®åœ°çƒ
    let earth, earthParent
    const setEarth = () => {
        earth = new Group()//å»ºç«‹ä¸€ä¸ªç»„
        earthParent = new Group()
        scene.add(earthParent)
        loader.load('src/assets/universe/earth.jpg', (texture) => {
            const geometry = new SphereGeometry(100, 20, 20) //çƒä½“æ¨¡å‹
            const material = new MeshBasicMaterial({map: texture}) //æè´¨ å°†å›¾ç‰‡è§£æ„æˆTHREEèƒ½ç†è§£çš„æè´¨
            const mesh = new Mesh(geometry, material)  //ç½‘å­”å¯¹è±¡ ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‡ ä½•æ¨¡å‹(ç»“æ„),ç¬¬äºŒå‚æ•°æ˜¯ææ–™(å¤–è§‚)
            earth.position.x -= 900
            earth.add(mesh)//æ·»åŠ åˆ°ç»„é‡Œ
            earthParent.add(earth)
        })
    }
//è®¾ç½®ç«æ˜Ÿ
    let mars, marsParent
    const setMars = () => {
        mars = new Group()//å»ºç«‹ä¸€ä¸ªç»„
        marsParent = new Group()
        scene.add(marsParent)
        loader.load('src/assets/universe/mars.jpg', (texture) => {
            const geometry = new SphereGeometry(85, 20, 20) //çƒä½“æ¨¡å‹
            const material = new MeshBasicMaterial({map: texture}) //æè´¨ å°†å›¾ç‰‡è§£æ„æˆTHREEèƒ½ç†è§£çš„æè´¨
            const mesh = new Mesh(geometry, material)  //ç½‘å­”å¯¹è±¡ ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‡ ä½•æ¨¡å‹(ç»“æ„),ç¬¬äºŒå‚æ•°æ˜¯ææ–™(å¤–è§‚)
            mars.position.x -= 1200
            mars.add(mesh)//æ·»åŠ åˆ°ç»„é‡Œ
            marsParent.add(mars)
        })
    }

    // è®¾ç½®æœ¨æ˜Ÿ
    let jupiter, jupiterParent
    const setJupiter = () => {
        jupiter = new Group()//å»ºç«‹ä¸€ä¸ªç»„
        jupiterParent = new Group()
        scene.add(jupiterParent)
        loader.load('src/assets/universe/jupiter.jpg', (texture) => {
            const geometry = new SphereGeometry(150, 20, 20) //çƒä½“æ¨¡å‹
            const material = new MeshBasicMaterial({map: texture}) //æè´¨ å°†å›¾ç‰‡è§£æ„æˆTHREEèƒ½ç†è§£çš„æè´¨
            const mesh = new Mesh(geometry, material)  //ç½‘å­”å¯¹è±¡ ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‡ ä½•æ¨¡å‹(ç»“æ„),ç¬¬äºŒå‚æ•°æ˜¯ææ–™(å¤–è§‚)
            jupiter.position.x -= 1500
            jupiter.add(mesh)//æ·»åŠ åˆ°ç»„é‡Œ
            jupiterParent.add(jupiter)
        })
    }

    // è®¾ç½®åœŸæ˜Ÿ
    let saturn, saturnParent
    const setSaturn = () => {
        saturn = new Group()//å»ºç«‹ä¸€ä¸ªç»„
        saturnParent = new Group()
        scene.add(saturnParent)
        loader.load('src/assets/universe/saturn.jpg', (texture) => {
            const geometry = new SphereGeometry(120, 20, 20) //çƒä½“æ¨¡å‹
            const material = new MeshBasicMaterial({map: texture}) //æè´¨ å°†å›¾ç‰‡è§£æ„æˆTHREEèƒ½ç†è§£çš„æè´¨
            const mesh = new Mesh(geometry, material)  //ç½‘å­”å¯¹è±¡ ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‡ ä½•æ¨¡å‹(ç»“æ„),ç¬¬äºŒå‚æ•°æ˜¯ææ–™(å¤–è§‚)
            saturn.position.x -= 1800
            saturn.add(mesh)//æ·»åŠ åˆ°ç»„é‡Œ
            saturnParent.add(saturn)
        })
    }

    //è®¾ç½®å¤©ç‹æ˜Ÿ
    let uranus, uranusParent
    const setUranus = () => {
        uranus = new Group()
        uranusParent = new Group()
        scene.add(uranusParent)
        loader.load('src/assets/universe/uranus.jpg', (texture) => {
            const geometry = new SphereGeometry(50, 20, 20) //çƒä½“æ¨¡å‹
            const material = new MeshBasicMaterial({map: texture}) //æè´¨ å°†å›¾ç‰‡è§£æ„æˆTHREEèƒ½ç†è§£çš„æè´¨
            const mesh = new Mesh(geometry, material)  //ç½‘å­”å¯¹è±¡ ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‡ ä½•æ¨¡å‹(ç»“æ„),ç¬¬äºŒå‚æ•°æ˜¯ææ–™(å¤–è§‚)
            uranus.position.x -= 2100
            uranus.add(mesh)//æ·»åŠ åˆ°ç»„é‡Œ
            saturnParent.add(uranus)
        })
    }

    //è®¾ç½®æµ·ç‹æ˜Ÿ
    let neptune, neptuneParent
    const setNeptune = () => {
        neptune = new Group()
        neptuneParent = new Group()
        scene.add(neptuneParent)
        loader.load('src/assets/universe/neptune.jpg', (texture) => {
            const geometry = new SphereGeometry(50, 20, 20) //çƒä½“æ¨¡å‹
            const material = new MeshBasicMaterial({map: texture}) //æè´¨ å°†å›¾ç‰‡è§£æ„æˆTHREEèƒ½ç†è§£çš„æè´¨
            const mesh = new Mesh(geometry, material)  //ç½‘å­”å¯¹è±¡ ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‡ ä½•æ¨¡å‹(ç»“æ„),ç¬¬äºŒå‚æ•°æ˜¯ææ–™(å¤–è§‚)
            neptune.position.x -= 2300
            neptune.add(mesh)//æ·»åŠ åˆ°ç»„é‡Œ
            neptuneParent.add(neptune)
        })
    }

//ç›‘å¬æµè§ˆå™¨æ”¹å˜å¤§å°æ—¶é‡æ–°æ¸²æŸ“
    function onWindowResize() {
        const WIDTH = window.innerWidth,
            HEIGHT = window.innerHeight
        camera.aspect = WIDTH / HEIGHT
        camera.updateProjectionMatrix()
        renderer.setSize(WIDTH, HEIGHT)
    }

//è®¾ç½®å…¬è½¬å‡½æ•°
    const revolution = () => {
        mercuryParent.rotation.y += 0.015
        venusParent.rotation.y += 0.0065
        earthParent.rotation.y += 0.05
        marsParent.rotation.y += 0.03
        jupiterParent.rotation.y += 0.01
        saturnParent.rotation.y += 0.02
        uranusParent.rotation.y += 0.09
        neptuneParent.rotation.y += 0.01
    }

    //è®¾ç½®è‡ªè½¬
    const selfRotation = () => {
        sun.rotation.y += 0.004
        mercury.rotation.y += 0.002
        venus.rotation.y += 0.005
        earth.rotation.y += 0.01
        mars.rotation.y += 0.01
        jupiter.rotation.y += 0.08
        saturn.rotation.y += 1.5
        uranus.rotation.y += 1
        neptune.rotation.y += 0.1
    }

    // è®¾ç½®å¤ªé˜³ç³»èƒŒæ™¯
    const starForge = () => {
        const starQty = 10000
        const geometry = new SphereGeometry(10000, 100, 50)
        const materialOptions = {}
        const starStuff = new PointCloudMaterial(materialOptions)
        geometry.vertices = []
        for (let i = 0; i < starQty; i++) {
            let starVertex = new Vector3()
            starVertex.x = Math.random() * 20000 - 10000
            starVertex.y = Math.random() * 20000 - 10000
            starVertex.z = Math.random() * 20000 - 10000
            geometry.vertices.push(starVertex)
        }
        const stars = new PointCloud(geometry, starStuff)
        scene.add(stars)
    }


    // å¾ªç¯åœºæ™¯ ã€ç›¸æœºã€ ä½ç½®æ›´æ–°
    const loop = () => {
        requestAnimationFrame(loop)
        revolution()
        selfRotation()
        renderer.render(scene, camera)
        camera.lookAt(scene.position)
    }

  //åˆå§‹åŒ–æ‰€æœ‰å‡½æ•°
    const init = () => {
        setScene() //è®¾ç½®åœºæ™¯
        setCamera() //è®¾ç½®ç›¸æœº
        setSun() // è®¾ç½®å¤ªé˜³
        setMercury() //è®¾ç½®æ°´æ˜Ÿ
        setVenus() //è®¾ç½®é‡‘æ˜Ÿ
        setEarth() // åœ°çƒ
        setMars() //ç«æ˜Ÿ
        setJupiter() // æœ¨æ˜Ÿ
        setSaturn() // åœŸæ˜Ÿ
        setUranus()// å¤©ç‹æ˜Ÿ
        setNeptune()//æµ·ç‹æ˜Ÿ
        starForge()//è®¾ç½®æ»¡å¤©æ˜ŸèƒŒæ™¯
        setControls() //è®¾ç½®å¯æ—‹è½¬æ§åˆ¶
        loop() // å¾ªç¯åŠ¨ç”»
    }

    onMounted(init)
    window.addEventListener('resize', onWindowResize)

</script>



```
![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/885047ce19d045228e779ca67b98bbff~tplv-k3u1fbpfcp-watermark.image)
